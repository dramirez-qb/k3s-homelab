apiVersion: v1
kind: Service
metadata:
    name: test-service
    namespace: networking
spec:
    ports:
        - name: web
          protocol: TCP
          port: ENC[AES256_GCM,data:DqJpCA==,iv:Z0nv6+wEkmqzv5U7WjaOFPh3U8Yf01boFRsPeyvJAXc=,tag:VzWvHIlXV+gVK4Q8trhzHw==,type:int]
          targetPort: ENC[AES256_GCM,data:aQyAvQ==,iv:Zl04xMbtw9IXvS9L5UkJeYIjbz1/p5SOT8O5Kry2dI8=,tag:GAf1UrMCk7X/PPw1etprYg==,type:int]
    type: ExternalName
    sessionAffinity: None
    externalName: ENC[AES256_GCM,data:RQ1oZBpTd+GBTlU=,iv:/i4m272c6xUP3v3q5smyU+q+r9nYZuRosJ2AH5S4ORc=,tag:tdjsIluk26PcfREGuIvk2w==,type:str]
    internalTrafficPolicy: Cluster
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: v1
kind: Service
metadata:
    name: home-service
    namespace: networking
spec:
    ports:
        - name: web
          protocol: TCP
          port: ENC[AES256_GCM,data:xXaYNg==,iv:8udFHLmkV8//8gI4sIahqsG6qv2FKLptYTVEp+JwjgM=,tag:EzwiGhJeEocQa/TdVdhDwA==,type:int]
          targetPort: ENC[AES256_GCM,data:WLw9zQ==,iv:3Ka05m5/MWC36FDCNl5v0xfno/t9p6DlWqXlPnBLI1o=,tag:84ePqdGFNt6igI0LjX6PtA==,type:int]
    type: ExternalName
    sessionAffinity: None
    externalName: ENC[AES256_GCM,data:pQtUzJwSNO6guDk=,iv:ZpQXpv784YM43EYD+3RJNKBh8ckNdcLPTcpFnqMeUzA=,tag:HbDW8LHt83u6YseKhJ7M1g==,type:str]
    internalTrafficPolicy: Cluster
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: v1
kind: Service
metadata:
    name: gitlab-service
    namespace: networking
spec:
    ports:
        - protocol: TCP
          name: web
          port: ENC[AES256_GCM,data:E7d1IA==,iv:QhnDzPovS7gHCm3xGTmxKGgImT8AuJUrvX6iJGcqnsw=,tag:T8UCK90i95ypU1HMc0yFNA==,type:int]
          targetPort: ENC[AES256_GCM,data:dr9/nw==,iv:lHX5jNGh5/mTjKGIaHelq92diDaQ5gsg+o8kUpNL3Lg=,tag:RbyvMTmTqS/d5wv/7DexjA==,type:int]
        - protocol: TCP
          name: registry
          port: ENC[AES256_GCM,data:UPzDTw==,iv:3ZAK99dzkNcchcsmsyB2quHfjjWPm6J1b36Kcm5negY=,tag:x6RKpdHWcg8z2/HZFlp6sA==,type:int]
          targetPort: ENC[AES256_GCM,data:zlnphg==,iv:qmcSwYmwoVDCiCr3CJ9sZ4SLPX0VJMbpJICuNYj112s=,tag:VWIuHGGiXR0BMmzxzDPJfA==,type:int]
        - protocol: TCP
          name: ssh
          port: ENC[AES256_GCM,data:IjyJVQ==,iv:g8XWHElH5RJApGKtk/gCI3AdmHp8bFLwnkJUiWDPXgY=,tag:cRB7gM2Kxp+8W3J4e/jPyQ==,type:int]
          targetPort: ENC[AES256_GCM,data:t14ivg==,iv:qCkFm1LaFo1TfM1o1/pmIPA8bKin/TOQ86jxk8WjgvU=,tag:cvgZnASauxbmL19UuJ8b7g==,type:int]
    type: ExternalName
    sessionAffinity: None
    externalName: ENC[AES256_GCM,data:3YAZjeMzoEYm5BKXmQ==,iv:PUazCJXecRVpkoFgBAYCb/9p68V0n/9PguQzFtSdiqA=,tag:Sj6doBAFc5/nXFTReyMMvQ==,type:str]
    internalTrafficPolicy: Cluster
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: gitlab-ingress
    namespace: networking
    annotations:
        external-dns.alpha.kubernetes.io/target: external.dxas90.xyz
        ingress.kubernetes.io/proxy-body-size: "0"
        ingress.kubernetes.io/ssl-redirect: "true"
        kubernetes.io/tls-acme: "true"
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
        traefik.ingress.kubernetes.io/router.tls: "true"
    labels:
        use-http01-solver: "true"
spec:
    ingressClassName: traefik
    tls:
        - hosts:
            - ENC[AES256_GCM,data:eDQxY21llt2nAQf26TOecx0=,iv:+0Z163RbF3X7lGb6wS3hwDA/wjyIKK9V8xyaHlp5YLM=,tag:JIh8S6Tx8SXXe1HVMaPvNg==,type:str]
          secretName: ENC[AES256_GCM,data:9tVk/TR3l6GWeAt8ytjmSitT0juZcg==,iv:GdH2locpUm8fCeS3TRYuQi+aIYWLmsntttqh7dzqzqk=,tag:URAwxehrPkbUpQdIgk3inw==,type:str]
        - hosts:
            - ENC[AES256_GCM,data:Q6zSyBTSPKplroYv1LKbewv8Lw==,iv:4IkDChVBtY2OqyVDiIcd/pLsgB8pAKTY+CjLfy6zuGA=,tag:cvSV95Go8juYQGP35OhdGA==,type:str]
          secretName: ENC[AES256_GCM,data:Va207/hE6xRx3A+HaVBm3drTaLEj1gOkxGAn5PT8ZQ==,iv:pm5M9JvFvuXM8wqa9zLpKOMRpM1fK7iZE3cgQ2nh6nc=,tag:xsbZuL5Zk6CQJtx7kP0BdQ==,type:str]
    rules:
        - host: ENC[AES256_GCM,data:wH3vuBzYQ4hQfTsGnOZ006k=,iv:CUJ/HaclfwkuXlT58p+gH3RpGFBKZhyaFovaepF8+rs=,tag:IaVkd3SSt3UwtNULvm/qDQ==,type:str]
          http:
            paths:
                - path: ENC[AES256_GCM,data:Fw==,iv:GuhGZy7lp1DkNNkOM13KScE0PAWR3kD6ROeK9zPsRm4=,tag:sJcYFgm6s63MSCOY7SSBxA==,type:str]
                  pathType: ENC[AES256_GCM,data:bZ/8SJB6,iv:xCjx5W/wWM7vfIW056K4ZCrUdDl24tsgwXbvHWs0Lb4=,tag:WlPPBTlk8NXrPmtp5e2Log==,type:str]
                  backend:
                    service:
                        name: ENC[AES256_GCM,data:ubXRycbkG1WYfItpehU=,iv:/qzS+9DX2kden666h9xYib52IzZ/en/KEiCTuiDBPqk=,tag:0v4YtECilc5l8Zu7ViCTWQ==,type:str]
                        port:
                            number: ENC[AES256_GCM,data:8RLXNw==,iv:y0nucPL3Vl8M6pGBIo+Hx+1e14bsKAL1qcdKV6ZmpLM=,tag:Gv78WXG8ALc/rhy0HPFTpQ==,type:int]
        - host: ENC[AES256_GCM,data:jku2vhRUKy5H1bc7xmeoYA+MwA==,iv:4m6qAlWxjyICNtRhdZvEhegoKv/GmVle1AXr9JNIjxI=,tag:3iDsCrvKSpBKo5aMUrMvhg==,type:str]
          http:
            paths:
                - path: ENC[AES256_GCM,data:fQ==,iv:48ATy8mtWChV9WoJXGsLJ3JJz/HSiOADwNHGqt1NPVs=,tag:wCeXaX6OnHO8ILNGjaDE9A==,type:str]
                  pathType: ENC[AES256_GCM,data:FufMUKki,iv:XfA1gkl5BAr58fSFBlYmBCsq9z5b8un/2to0ph7+roU=,tag:Lw3Ic5ta0NWaNZOWuyiuzA==,type:str]
                  backend:
                    service:
                        name: ENC[AES256_GCM,data:nrvjkNcVHkyoK6V9E/8=,iv:+a9CCpNKHK81Inp6B7f6O8OdcKMCQJz1mQPFapTZ9e8=,tag:4ajA0r14HG4Zh29C0f5XCw==,type:str]
                        port:
                            number: ENC[AES256_GCM,data:kVpusA==,iv:3pUQ5Njfh+Dc5YWszsAnVtDovz2EjiQdv4ZG4UP9BO0=,tag:pK8in7rCEESmeMGC5nnWqw==,type:int]
        - host: ENC[AES256_GCM,data:mjSYe/PDLpluXnvYrOs=,iv:jzxdKqFeDheJgHB93YhO0r8PMU5HL4GCPGcYJFqBcog=,tag:8YIIwxlwhwWbP9CPn2ZxmA==,type:str]
          http:
            paths:
                - path: ENC[AES256_GCM,data:OQ==,iv:9NYsFVR8JmkaLGi/8ulct85xZs3wuul08bZmpjeYnEQ=,tag:eRZVlKzMhT8HAkI5jXf1QA==,type:str]
                  pathType: ENC[AES256_GCM,data:59vT5GB+,iv:tQlEOZsRWB2iNqAEmLdqL9LQu462o+iZKXMD3wFmpXM=,tag:I3YIEwxXtIOrS+z01GTKCQ==,type:str]
                  backend:
                    service:
                        name: ENC[AES256_GCM,data:m4JEQFDJOvkARIvW,iv:4Rn3guMnevKn9DgL6Nm888zzkssrpIPdmuLYwc2lpbU=,tag:+q/kwx7gGaBADiOv9t26ew==,type:str]
                        port:
                            number: ENC[AES256_GCM,data:Uy5I4Q==,iv:0vFIylJjzMotEPjkb+0dgwh5/d/geWZ1MH9BwmnlqMw=,tag:ku4Rpi2eLO5uzLf91tGeVw==,type:int]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: home-ingress
    namespace: networking
    annotations:
        external-dns.alpha.kubernetes.io/target: external.dxas90.xyz
        ingress.kubernetes.io/proxy-body-size: "0"
        ingress.kubernetes.io/ssl-redirect: "true"
        konghq.com/override: https-only
        kubernetes.io/tls-acme: "true"
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
        traefik.ingress.kubernetes.io/router.tls: "true"
        traefik.ingress.kubernetes.io/router.middlewares: networking-secured@kubernetescrd
    labels:
        use-http01-solver: "true"
spec:
    ingressClassName: traefik
    tls:
        - hosts:
            - ENC[AES256_GCM,data:tLizUKTlXD8zyCndvtaO,iv:KnZx8PovO3gWvm4FvMLs/WJYbx4H2nfEs4eU2lJ+hkQ=,tag:NA1Zg4WR2ehwD/zLRbbzmg==,type:str]
          secretName: ENC[AES256_GCM,data:aBXVv1oStmu9pp0g/UzFs7UeyCU=,iv:F3a7mcN6ccXdSc+6wdiPVaCY5HXoMR3P8rC+RIbnIs0=,tag:yUxu5IhWx5+Lzzxi2IdUBw==,type:str]
    rules:
        - host: ENC[AES256_GCM,data:F0ud7+d+Id5b7jklmHpy,iv:3HPxxn3wzlOc5AEyKdeL2OHyeUDT8nXdVENpCaRGDUs=,tag:b/ZIOgL7jnlIco8xy5be+Q==,type:str]
          http:
            paths:
                - path: ENC[AES256_GCM,data:zw==,iv:YhoewvbKF0TCT/IrCyVcjQLFKcPD9AO0i3enZqg1eGg=,tag:+i/LZe4BZd/VscialpYlcw==,type:str]
                  pathType: ENC[AES256_GCM,data:iVo+j/5DvuHp83GUIHPDUN+86kX+eQ==,iv:qbegF+M4XBgpoF37GCzywSCAxyVasPXWbqvdRVKhF8Y=,tag:xY4QAUr3pH5h8jDeFNjf4w==,type:str]
                  backend:
                    service:
                        name: ENC[AES256_GCM,data:lmUbRRA9Y8dklHVC,iv:FP/wzYNcHM1HcW1vyQMrM8BhrsvuJxFXz1jztyjnpxw=,tag:w98XVnDS0+OXTaFyXje2CQ==,type:str]
                        port:
                            number: ENC[AES256_GCM,data:61BdqA==,iv:zDJ9i1jMZGcRTU50eupz3MD+AVYlOKDLDCDj4Y8b8cs=,tag:9dtVkFo1GDWlEawkGDbKPA==,type:int]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: home-dxas90-xyz-redirect
    namespace: networking
    annotations:
        traefik.ingress.kubernetes.io/router.entrypoints: web
        traefik.ingress.kubernetes.io/router.middlewares: networking-secured@kubernetescrd
spec:
    ingressClassName: traefik
    rules:
        - host: ENC[AES256_GCM,data:d5mHNkCeoEq5wzcZuznJ,iv:Jglyfi5Xtu2t7VXEGMHFjObInZmu8e+UWU3of7KfmzI=,tag:uWtbqQDCGcLbdLVn6sgaJg==,type:str]
          http:
            paths:
                - path: ENC[AES256_GCM,data:Sw==,iv:Kt59uNy7rUVP8yJDclzWLZHHrmHnuuA9d9JVJS82jbw=,tag:h+nyUWLM11jIxirqbG60mw==,type:str]
                  pathType: ENC[AES256_GCM,data:auA6fot+dyQrQQyz7dLepbhgsuujSg==,iv:Go7E8HWc1pm4vNaQKDpKH2ldZRVlFe4XcIC4Vi12PGQ=,tag:SRbruXLQ76C1egEA/myntQ==,type:str]
                  backend:
                    service:
                        name: ENC[AES256_GCM,data:3gUGoKyNvYdBEROz,iv:3OH3GHaXMHq2wKd+3KIFsuEPRGuvJPC8jD0BectLOKg=,tag:kpBcbcYzrLYjK9GjmmdNPQ==,type:str]
                        port:
                            number: ENC[AES256_GCM,data:H9WXeg==,iv:E4H4VTRuxbNyh7C9otTg/VGpqcKHS2zBvyMYD2TuFM0=,tag:i10e8bB2zHeV6jhi3HsigA==,type:int]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
# Redirect to https
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: web-redirect
    namespace: networking
spec:
    redirectScheme:
        scheme: https
        permanent: true
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
# Latency Check
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: latency-check
    namespace: networking
spec:
    circuitBreaker:
        expression: LatencyAtQuantileMS(50.0) > 100
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
# Enable gzip compression
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: compress
    namespace: networking
spec:
    compress: {}
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
# Here, an average of 100 requests per second is allowed.
# In addition, a burst of 50 requests is allowed.
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: ratelimit
    namespace: networking
spec:
    rateLimit:
        average: 100
        burst: 50
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: custom-headers
    namespace: networking
spec:
    headers:
        customRequestHeaders:
            X-Script-Name: test
            X-Forwarded-Proto: https
        customResponseHeaders:
            X-Custom-Response-Header: value
            X-Forwarded-Proto: https
        hostsProxyHeaders:
            - X-Forwarded-For
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: secured
    namespace: networking
spec:
    chain:
        middlewares:
            - name: web-redirect
            - name: latency-check
            - name: compress
            - name: ratelimit
            - name: custom-headers
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlY29ETlcrb0l0aG0vWXJj
            SzIzN3N0ZUhTL0ovZzF2aEMxbDJLYy8xemxrCkxCdmhiRlg5STJObDYrMHJMUTJm
            cGhoOVF3cXVERXloNUg4b2ZzQithRDQKLS0tIGg3UmY1YkhSMzdWVlVRNWtKa3dM
            NThzNVhvMlE0K1lkQzVad2J5NkUvb2sKwiVJQgxvtEEEkQcsMs3t8mP8wv36JeqY
            daZruGMhrgqI0HZBCctJnXyhGD3NC6983DCXDMcPgT0fcZFM0HJ1gg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-06T20:33:51Z"
    mac: ENC[AES256_GCM,data:3yo6YD+oGkMTdP3xAMQsHwhlCowxODwq0QCEUBgQqNmPj3n/7kZLtTQt43D4qUnNOGao/a0kZf2jGJnkpawqZs40V9V722T6F+mvJZex2vlpSHsS6yKIYyuI3+R/VbmGSRI+GhJIrUvDIhq//5vq97fx/oO5nREqaBK5WV5F5T8=,iv:sRzz8nddxarSNT9xwjphd/GOiIYi+M6jq9YGH40xg8U=,tag:oDO1lSyKwc7Opj0bOjzrOg==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
