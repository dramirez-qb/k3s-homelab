apiVersion: v1
kind: Service
metadata:
    name: test-service
    namespace: networking
spec:
    ports:
        - name: web
          protocol: TCP
          port: ENC[AES256_GCM,data:kF4X2A==,iv:MJ0qlJ63x/6cq8cTLWAYQ9l96euBRzKFWMa+NgGTEME=,tag:PAK3I6lr6rnINcrJJg27yw==,type:int]
          targetPort: ENC[AES256_GCM,data:8cSf4A==,iv:d9lntnFgIk75AcaI+m8J62U6kKEOsPpSLVqr7v6fWOM=,tag:sjmsChqUe+g5V4000xfZig==,type:int]
    type: ExternalName
    sessionAffinity: None
    externalName: ENC[AES256_GCM,data:jD7KEmmRqxVyFYM=,iv:BaQ8tiWmwcZp/TV13ywl3xZoADIi/SZXXOW87oAYmsM=,tag:GaW22SK6wB48vaf6W2FZqA==,type:str]
    internalTrafficPolicy: Cluster
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: v1
kind: Service
metadata:
    name: home-service
    namespace: networking
spec:
    ports:
        - name: web
          protocol: TCP
          port: ENC[AES256_GCM,data:BIIS/g==,iv:+YvUGxeX4DHr5xE65zI6ujg33W5lxSxO2bjwEWGXRZQ=,tag:ppy7UoT0IJOuQAynMWI3BA==,type:int]
          targetPort: ENC[AES256_GCM,data:DdaK5w==,iv:LuBLhBiXdMXTu2G4jCaxM+o2BfsPwIIurfG8fRPZ6qw=,tag:Sg7WZtgDtUIEqMsK2UX7lQ==,type:int]
    type: ExternalName
    sessionAffinity: None
    externalName: ENC[AES256_GCM,data:60hmteJFulYEdro=,iv:oBweSj9JGvSsk7Q5UiN7QkTjPqrwWcai9CZLweAXATM=,tag:aCsbyXgN2yyI8wSqQsni8Q==,type:str]
    internalTrafficPolicy: Cluster
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: v1
kind: Service
metadata:
    name: gitlab-service
    namespace: networking
spec:
    ports:
        - protocol: TCP
          name: web
          port: ENC[AES256_GCM,data:2q1uog==,iv:BMzWjubOiV81mW66RbynnpdUm/BJXlG1UH0emGtuLvA=,tag:KobzU8Kcxn91iqh5lyVl1g==,type:int]
          targetPort: ENC[AES256_GCM,data:orRnGw==,iv:fG8DGUoIZAPrnCc5FcHtzVfwLlnFleMx0VcApvGk9vQ=,tag:yEAknoIXF0bUz+EafkG6cQ==,type:int]
        - protocol: TCP
          name: registry
          port: ENC[AES256_GCM,data:G2KTUw==,iv:UX+GJ4oSx5tRyxxB0Be+t7AESD57t6Bbpb7j7XKSZoI=,tag:yJ4JWUv+sLY/rNyg1Rzoig==,type:int]
          targetPort: ENC[AES256_GCM,data:fndzcQ==,iv:Fs2QT6KC6iYnyO/l/avh9MNmhmwxvZiMwCXEohZXH7U=,tag:tJTYl6Uy4ivHfFxlrq8B5w==,type:int]
        - protocol: TCP
          name: ssh
          port: ENC[AES256_GCM,data:MftATw==,iv:62k9IFV6ir7gnWcAHowcZMPQsplh8gcQcpfeEUeae4Y=,tag:cNEWRZMylvfKrRJD0zn1HA==,type:int]
          targetPort: ENC[AES256_GCM,data:wKTfgw==,iv:+bXDULwqvz4jc0vhhANPL41GNJXxpaYZZEF3in6jmjY=,tag:mc3quzxMamFQtpEq8VC4LQ==,type:int]
    type: ExternalName
    sessionAffinity: None
    externalName: ENC[AES256_GCM,data:BKV0uuerZeJ49RyEhA==,iv:wldgciSsn23R5UolTObGh3BBgHmq/IPRf5z/R+b+h7Q=,tag:k06CS/cd+DjjIMDUi3ml1A==,type:str]
    internalTrafficPolicy: Cluster
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: gitlab-ingress
    namespace: networking
    annotations:
        external-dns.alpha.kubernetes.io/target: ingress.dxas90.xyz
        ingress.kubernetes.io/proxy-body-size: "0"
        ingress.kubernetes.io/ssl-redirect: "true"
        kubernetes.io/tls-acme: "true"
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
        traefik.ingress.kubernetes.io/router.tls: "true"
    labels:
        use-http01-solver: "true"
spec:
    ingressClassName: traefik
    tls:
        - hosts:
            - ENC[AES256_GCM,data:meLSf+uLbHFkyU5dF2uZhPQ=,iv:HzYzwajO7TPmuVtyQ1xxCC0qkXoKRQFdyTg8G5pQWfY=,tag:aMgaHuv7smm3S5FGO9tosw==,type:str]
          secretName: ENC[AES256_GCM,data:o2EjpfWgZ/eUGkqBXguBEhHpwn/2nw==,iv:VCKem9mhhS2UT6CoWFaY/TxF/sfQN7XcYFxdL0fZ0Pg=,tag:5CU38goU18/8JLOyPGRbLg==,type:str]
        - hosts:
            - ENC[AES256_GCM,data:Tyjtw3I1mIZDiEclwK0DKHrM1w==,iv:F9zq0yx4+M/Zb256xVrPbJP2qCqKoj+hkRq0bryoRws=,tag:UkRQZgfFZ6xI0k7Ijiw7Dg==,type:str]
          secretName: ENC[AES256_GCM,data:CwLH2CLcDb/2bm/Y9KgHfEZcuds0/ctmdsqFeC8xhg==,iv:jtyt2uCpCkVf10xwUlMjt9NYTw7/pMja8MT3YoYdfKw=,tag:NeLB7+1NeStonRAHDusDiA==,type:str]
    rules:
        - host: ENC[AES256_GCM,data:M1RzVO20+ss8UbQ1rD6Ga2g=,iv:HVAuEO051KsO736ca+tjYq7xTvPf5ueTG3ECxPOuSxY=,tag:1n3WnXB5n5nmBORH9NvTxA==,type:str]
          http:
            paths:
                - path: ENC[AES256_GCM,data:Gg==,iv:xY4k+RkufGL7MQfomCpUTwjzM9kkmazepACcDkmRcLk=,tag:aLNCu7cE6nUdH5uSk2p1SQ==,type:str]
                  pathType: ENC[AES256_GCM,data:w5A7QKco,iv:2Qcfk3PoaWMoPJAuz+D/JkWEQZsfeoSsPGwWf/uG+K8=,tag:gz6Zz0Yrw8V87Z3Dwl13Xg==,type:str]
                  backend:
                    service:
                        name: ENC[AES256_GCM,data:nPVslTENVZDusZdimiQ=,iv:ehcBWTxoZu6f8ncUT+Dufykt0+cEq37jLs5L2dwlysY=,tag:yD5wQi/ULCp5bb9s7vQL6g==,type:str]
                        port:
                            number: ENC[AES256_GCM,data:mfjVeA==,iv:KKPZ5B4LfK85jaans1bOTypq5vZLYS3zlqBykfOnCQg=,tag:MIfOgBIQv/970/hNbXb4+A==,type:int]
        - host: ENC[AES256_GCM,data:bG5Jrio4DCNkWS82BrbpeL8RQA==,iv:zZPczzJsk14F849iD4kCzoCYr7olKeyorXVSDnOxseI=,tag:LuVQITKWEJtrBlY4i8lqtA==,type:str]
          http:
            paths:
                - path: ENC[AES256_GCM,data:FQ==,iv:x08fYIwan/T/GINwEYmBG85oIDNMzXPbb00vYMuVW2Q=,tag:jldnIdtzgma5ljVDINvR6Q==,type:str]
                  pathType: ENC[AES256_GCM,data:D7JQZnPf,iv:hQC9pWVvV4Lg34nR9faaOKeVrpuvp2cnZLI4rIhYn5s=,tag:eHotbJXK5e+tJXzJBPYTSw==,type:str]
                  backend:
                    service:
                        name: ENC[AES256_GCM,data:paVoIaNdK7sD4NaWGGM=,iv:dOsn3VlIDrVTqxB/4X/G4vOviQsGau/QY3TpeZ1ZbCU=,tag:pfC6pAyJHN4KWUqgTJDLoA==,type:str]
                        port:
                            number: ENC[AES256_GCM,data:ue5MIA==,iv:A4XEvAQRP+ehfzeLskbEN5l4EKhmNjwuMpEn+Ke7U0I=,tag:KwD5+dIbazEjFSBTsxoOew==,type:int]
        - host: ENC[AES256_GCM,data:AjtBQ7C0yDWL/xv0P50=,iv:Px/90PJtwA3irmfJVJqwbsobVSfbMnwKviOBmHmfE34=,tag:NWjj533Jv/AYFDCxcs03pA==,type:str]
          http:
            paths:
                - path: ENC[AES256_GCM,data:2Q==,iv:puFqBnlPbMTVE8CLz46w9F/jJuSEtRi93hhuxSHgf24=,tag:OGb+oiD8SmGdylkyfstIpQ==,type:str]
                  pathType: ENC[AES256_GCM,data:0CiR1Eif,iv:cTPjPuBezjttZa4TboBDDdiWSRup5A2oBKydXTCfcfk=,tag:Wjjwd7umaXfVr259VPiDAw==,type:str]
                  backend:
                    service:
                        name: ENC[AES256_GCM,data:YvZF/eDa3fs50fNm,iv:4VoYrTBe31SsB1uECkF9ZJd48ZEKlHC6NkBHcUjlsAQ=,tag:Xezz6UaKCrKN9Whqh/dE+A==,type:str]
                        port:
                            number: ENC[AES256_GCM,data:VMPMfg==,iv:5FdItmgMCrtluM63mt4RtGB7cSt21vuKAOPo20X3BiE=,tag:og8WoH5a/KCK5uNIOBQOgQ==,type:int]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: home-ingress
    namespace: networking
    annotations:
        external-dns.alpha.kubernetes.io/target: ingress.dxas90.xyz
        ingress.kubernetes.io/proxy-body-size: "0"
        ingress.kubernetes.io/ssl-redirect: "true"
        konghq.com/override: https-only
        kubernetes.io/tls-acme: "true"
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
        traefik.ingress.kubernetes.io/router.tls: "true"
        traefik.ingress.kubernetes.io/router.middlewares: networking-secured@kubernetescrd
    labels:
        use-http01-solver: "true"
spec:
    ingressClassName: traefik
    tls:
        - hosts:
            - ENC[AES256_GCM,data:lSVKI58n3+BbT31tOw4d,iv:M1WKOpsb0p/9sO3Xi3Vxz6r06nOFDjOHqi43BenU/GE=,tag:OYlmTJcB7CPG1zGU7sWoEw==,type:str]
          secretName: ENC[AES256_GCM,data:p5A4ZVCSCQJLlUwlLYf+5XKgzmo=,iv:ckJuXaz6dBZrbn3ch7rIEUxKFI30bW+v+ZONcXvIdIE=,tag:e4nYflDrfRthu08m0qpnPg==,type:str]
    rules:
        - host: ENC[AES256_GCM,data:OoaG7H0k2rnUPansrAVm,iv:SJUEMa/QJzXMH6qaAiVGxLZh0+bIWFk/OcJUk9Cbk2k=,tag:hOdrl/n/KymzTPQ++MRDSQ==,type:str]
          http:
            paths:
                - path: ENC[AES256_GCM,data:bA==,iv:QsYGLB5LOLSktdvbVhJeDNJwvizV/awU0SxORDefHsU=,tag:LUuncypm9gSZfU37y9BMWw==,type:str]
                  pathType: ENC[AES256_GCM,data:Dyci/omAGIMdf9zST+dj3EI8xjFtfA==,iv:7jvvfsb+q3j8UqKf2JVgWM9ajtUaHXTQq4dfzf72Y0k=,tag:TSGl0ZMVAR4vrOtBtUGwog==,type:str]
                  backend:
                    service:
                        name: ENC[AES256_GCM,data:MPjQsZcHFPkmkQp4,iv:B6rU6LyLZnj1uO4qdcwndEpRwDgTGnN5rcSqLNvU+sQ=,tag:M7jyA637c5O2uzsW5sAt/Q==,type:str]
                        port:
                            number: ENC[AES256_GCM,data:cYInJw==,iv:vrCaWxXwS4+iZHXuOax91NOVVn8dF/YI8a7AoV08AVw=,tag:PadvKM/kVn3k4SG7Dnw1hg==,type:int]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
    name: home-dxas90-xyz-redirect
    namespace: networking
    annotations:
        traefik.ingress.kubernetes.io/router.entrypoints: web
        traefik.ingress.kubernetes.io/router.middlewares: networking-secured@kubernetescrd
spec:
    ingressClassName: traefik
    rules:
        - host: ENC[AES256_GCM,data:BXcGc3Q2tz5tI44QBKvC,iv:YCQnHZn2r9kFOCI9Vb+pAOUbgfncdGlydsVt0gDlHcA=,tag:FuGh881/VKxhrdk8lmryOw==,type:str]
          http:
            paths:
                - path: ENC[AES256_GCM,data:iQ==,iv:5vPo/QpfPYw14kJldczFA9QdjnDad4sT1/3ERe5tXQc=,tag:SmLk3EZKFzYpQpu9vIlkdg==,type:str]
                  pathType: ENC[AES256_GCM,data:q67iwPi02Zy1mYNGzQLuCKy6y2L0JQ==,iv:VvIBGJEoCIwMG+uiKjL+ieeQAjiV6ohwkfvs68FFplA=,tag:Y7SG69obVXdjWiy9/cCemA==,type:str]
                  backend:
                    service:
                        name: ENC[AES256_GCM,data:9hlroMj7NEI2IKR1,iv:rx4XL5wEV/TVuCnTgqO2c1ytUckEHPTm8m3rt2H0HVM=,tag:ICYKtc1vu5DKmDyTA4P+5A==,type:str]
                        port:
                            number: ENC[AES256_GCM,data:stdlpg==,iv:krknRlJqCr4gAfHurK7A1i3YgggMopJK1d+xNn6q+5M=,tag:bVIMFen3yAQ/xlrGX6UJdw==,type:int]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
# Redirect to https
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: web-redirect
    namespace: networking
spec:
    redirectScheme:
        scheme: https
        permanent: true
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
# Latency Check
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: latency-check
    namespace: networking
spec:
    circuitBreaker:
        expression: LatencyAtQuantileMS(50.0) > 100
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
# Enable gzip compression
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: compress
    namespace: networking
spec:
    compress: {}
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
# Here, an average of 100 requests per second is allowed.
# In addition, a burst of 50 requests is allowed.
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: ratelimit
    namespace: networking
spec:
    rateLimit:
        average: 100
        burst: 50
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: custom-headers
    namespace: networking
spec:
    headers:
        customRequestHeaders:
            X-Script-Name: test
            X-Forwarded-Proto: https
        customResponseHeaders:
            X-Custom-Response-Header: value
            X-Forwarded-Proto: https
        hostsProxyHeaders:
            - X-Forwarded-For
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: secured
    namespace: networking
spec:
    chain:
        middlewares:
            - name: web-redirect
            - name: latency-check
            - name: compress
            - name: ratelimit
            - name: custom-headers
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age17nr093c37k5732q9ksxf2p785wd9fxjej7axzcn66lm6muys0eks9kmzts
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBVmsyakFVbUx0RnloOU1K
            T2xBZ0dCVUxoMzEvblYraDFmQzgwVG1wVVVZCi9zSVhQL0tIV2xzNTg2YkQwdzZV
            WHc4MmRWem1vcnAzU3lKRVBKeHJjV28KLS0tIFhpcXlJdCt5MWQyNE1OaEVtQU81
            WHZDYnFkSTdweW5WMUF0WENnZXk5Rk0KlAzXMQAJ6N0T+KqTFTHRIS2GJguA1nXE
            q2xOSDwhOoWcXNzhwyRRTyYopQ9CepVT5NxQwrcJbSUtk+qHFReOJg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2023-09-01T18:19:37Z"
    mac: ENC[AES256_GCM,data:KvajVI3yWJXv9JwmvPw7wF4H+SfGt15IL5vN3Z1AL6qYf/+nxaccd24I7Tb7vVue1KO3mo8QjFxZ7W445+f4ced9ykqhImWgvh+xYtXuS1dspw12YOuWZ/S/wwJijkd6WcMxe0506kfRefqqAUMaYgHFhd5LGXqR1avvLQMDHQU=,iv:CLp4iOXCV+dZxtLYZHas4m74LqOq1tZlU9Hfm1L6TfE=,tag:d6XBpgTusfXB2CvVNZaZQw==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|externalName|tls|rules|value|key|port|targetPort)$
    version: 3.7.3
